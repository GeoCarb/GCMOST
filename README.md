# GeoCarb Mission Observation Scenario Tool (MOST)
### by Jeff Nivitanont

![A sample scanning strategy](https://github.com/GeoCarb/GCMOST/blob/master/images/sample_scan.gif)

![version](https://img.shields.io/badge/version-1.0-blue)
![python](https://img.shields.io/badge/python-%3E%3D3.7-critical)
![license](https://img.shields.io/badge/license-MIT-yellow)

## Table of Contents
* [Description](#description)
* [Dependencies](#dependencies)
* [Installation](#installation)
* [Menu](#menu)
* [Run](#run)
* [Credits](#credits)
* [Support](#support)

## Description
This tool was created to generate signal-to-noise (SNR) optimized scanning strategies for the GeoCarb, geostationary carbon cycle observatory, instrument (<a href="https://ou.edu/geocarb" target="_blank">GeoCarb website</a>). Given a date, MOST will calculate the time window of usable daylight in GeoCarb's field of view. For each time step within the time window, MOST chooses the best scan block based on maximizing SNR and coverage while minimizing overlap. To read more on the theoretical background used to create MOST, refer to <a href="https://doi.org/10.5194/amt-12-3317-2019" target="_blank">Nivitanont et al. (2019)</a>.

## Dependencies
* [numpy](https://numpy.org/)
* [matplotlib](https://matplotlib.org/)
* [descartes](https://anaconda.org/conda-forge/descartes)
* [numba](https://numba.pydata.org/numba-doc/latest/index.html)
* [shapely](https://shapely.readthedocs.io/en/latest/)
* [pyproj](https://pyproj4.github.io/pyproj/stable/)
* [cartopy](https://scitools.org.uk/cartopy/docs/latest/)
* [pandas](https://pandas.pydata.org/)
* [geopandas](https://geopandas.org/)
* [joblib](https://joblib.readthedocs.io/en/latest/)
* [netCDF4](https://unidata.github.io/netcdf4-python/netCDF4/index.html)

## Installation
> If you have a package manager, i.e., `conda`, it is recommended to create a separate environment due to the number of dependencies required.
To install run,

`pip install git+https://github.com/GeoCarb/GCMOST#egg=gcmost`.

## Menu
After successful installation, alter the file `menus/main_menu_template.py` and save it to your working directory (we will call it `main_menu.py`). For detailed description on menu options, refer to this <a href="https://github.com/GeoCarb/GCMOST/tree/master/menus/README.md" target="_blank">document</a>.

## Run
To run the program from the command line, enter the following

`gcmost-main main_menu.py`.

MOST can also be run from within python by running the following lines of code,

```python
import gcmost.most as most
menuFile = './yourWorkingDirectory/main_menu.py'
coverset = most.main(menuFile)
```

By default, outputs will be saved to a folder in your working directory called `./output/`. Below is an example coverset generated by MOST,

![example coverset](https://github.com/GeoCarb/GCMOST/blob/master/images/staticCoverset.png) 

## Credits

Thanks to Sean Crowell (University of Oklahoma) for advising on this project and to Peter Rayner (University of Melbourne) for sharing some Earth geometry calculation code.

## Support

Bugs may be reported [here](https://github.com/GeoCarb/GCMOST/issues) 